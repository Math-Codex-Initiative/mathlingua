(this["webpackJsonpmathlingua-client"]=this["webpackJsonpmathlingua-client"]||[]).push([[0],{107:function(e,t,n){},123:function(e,t,n){},13:function(e,t,n){e.exports={triangle:"PathTreeItem_triangle__1r7e7",link:"PathTreeItem_link__2zHfD",sidePanelItem:"PathTreeItem_sidePanelItem__1A12M",mathlinguaListDirItem:"PathTreeItem_mathlinguaListDirItem__3BEwG",mathlinguaListFileItem:"PathTreeItem_mathlinguaListFileItem__1JNHt",selected:"PathTreeItem_selected__r_5l2",errorStats:"PathTreeItem_errorStats__1EFpQ",button:"PathTreeItem_button__1hcH-",input:"PathTreeItem_input__1EXXq"}},206:function(e,t,n){},207:function(e,t,n){},211:function(e,t,n){"use strict";n.r(t);var a=n(1),r=n.n(a),i=n(43),c=n.n(i),o=(n(107),n(14)),s=n(19),l=n(33),u=n(32),d=n(5),p=n(86),h=n.n(p),f=n(24),m=n(10),b=n(41),x=(n(110),n(52)),v=n.n(x),j=n(6),g=n(62),O=n(2),y=n.n(O),w=n(3),k=n(87),_=n.n(k),P=n(53),I=n(44),T=(n(123),n(11)),C=n.n(T),L=function e(t){Object(o.a)(this,e),this.isWord=void 0,this.children=void 0,this.isWord=t,this.children=new Map},S=function(){function e(){Object(o.a)(this,e),this.root=new L(!1)}return Object(s.a)(e,[{key:"add",value:function(e){this.addToTrie(this.root,e.toLowerCase(),0)}},{key:"getSuffixes",value:function(e){return this.searchTrie(this.root,e.toLowerCase())}},{key:"addToTrie",value:function(e,t,n){if(!(n>=t.length)){var a=t[n];e.children.has(a)||e.children.set(a,{isWord:n===t.length-1,children:new Map});var r=e.children.get(a);n===t.length-1&&(r.isWord=!0),this.addToTrie(r,t,n+1)}}},{key:"searchTrie",value:function(e,t){var n=this.findTrieLeaf(e,t,0);if(!n)return[];var a=new Set;return this.getWordsUnder("","",n,a),Array.from(a)}},{key:"findTrieLeaf",value:function(e,t,n){if(n>=t.length)return e;var a=t[n];return e.children.has(a)?this.findTrieLeaf(e.children.get(a),t,n+1):null}},{key:"getWordsUnder",value:function(e,t,n,a){if(n){e+=t,n.isWord&&a.add(e);var r,i=Object(j.a)(n.children.keys());try{for(i.s();!(r=i.n()).done;){var c=r.value;this.getWordsUnder(e,c,n.children.get(c),a)}}catch(o){i.e(o)}finally{i.f()}e=e.substring(0,e.length-1)}}}]),e}(),N=function(){function e(t){Object(o.a)(this,e),this.searchIndex=new Map;var n,a=Object(j.a)(t.collectionResult.fileResults);try{for(a.s();!(n=a.n()).done;){var r,i=n.value,c=Object(j.a)(i.entities);try{for(c.s();!(r=c.n()).done;){var s,l=r.value,u=Object(j.a)(l.words);try{for(u.s();!(s=u.n()).done;){var d,p=s.value.toLowerCase(),h=null!==(d=this.searchIndex.get(p))&&void 0!==d?d:new Set;h.add(i.relativePath),this.searchIndex.set(p,h)}}catch(f){u.e(f)}finally{u.f()}}}catch(f){c.e(f)}finally{c.f()}}}catch(f){a.e(f)}finally{a.f()}}return Object(s.a)(e,[{key:"search",value:function(e){var t,n=e.split(" ").map((function(e){return e.trim().toLowerCase()})).filter((function(e){return e.length>0}));if(0===n.length)return[];var a=null!==(t=this.searchIndex.get(n[0]))&&void 0!==t?t:new Set;if(0===a.size)return[];for(var r=1;r<n.length;r++){var i;a=F(a,null!==(i=this.searchIndex.get(n[r]))&&void 0!==i?i:new Set)}return Array.from(a)}}]),e}();function F(e,t){if(t.size>e.size)return F(t,e);for(var n=new Set,a=0,r=Array.from(e.values());a<r.length;a++){var i=r[a];t.has(i)&&n.add(i)}return n}function E(e){console.error(e)}var R=function(){function e(){Object(o.a)(this,e)}return Object(s.a)(e,[{key:"getAllPaths",value:function(){var e=Object(w.a)(y.a.mark((function e(){var t;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,C.a.get("/api/allPaths");case 3:return t=e.sent,e.abrupt("return",t.data.paths);case 7:return e.prev=7,e.t0=e.catch(0),E(e.t0.message),e.abrupt("return",[]);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}()},{key:"getFileResult",value:function(){var e=Object(w.a)(y.a.mark((function e(t){var n;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,C.a.get("/api/fileResult",{params:{path:t}});case 3:return n=e.sent,e.abrupt("return",n.data);case 7:return e.prev=7,e.t0=e.catch(0),E(e.t0.message),e.abrupt("return",void 0);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"search",value:function(){var e=Object(w.a)(y.a.mark((function e(t){var n;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,C.a.get("/api/search",{params:{query:t}});case 3:return n=e.sent,e.abrupt("return",n.data.paths);case 7:return e.prev=7,e.t0=e.catch(0),E(e.t0.message),e.abrupt("return",[]);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"getAutocompleteSuffixes",value:function(){var e=Object(w.a)(y.a.mark((function e(t){var n;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,C.a.get("/api/completeWord",{params:{word:t}});case 3:return n=e.sent,e.abrupt("return",n.data.suffixes);case 7:return e.prev=7,e.t0=e.catch(0),E(e.t0.message),e.abrupt("return",[]);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"getEntityWithSignature",value:function(){var e=Object(w.a)(y.a.mark((function e(t){var n;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,C.a.get("/api/withSignature",{params:{signature:t}});case 3:return n=e.sent,e.abrupt("return",n.data);case 7:return e.prev=7,e.t0=e.catch(0),E(e.t0.message),e.abrupt("return",void 0);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"check",value:function(){var e=Object(w.a)(y.a.mark((function e(){var t;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,C.a.get("/api/check");case 3:return t=e.sent,e.abrupt("return",t.data);case 7:return e.prev=7,e.t0=e.catch(0),E(e.t0.message),e.abrupt("return",{errors:[]});case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}()},{key:"getGitHubUrl",value:function(){var e=Object(w.a)(y.a.mark((function e(){var t,n;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,C.a.get("/api/gitHubUrl");case 3:return t=e.sent,n=t.data,e.abrupt("return",n.url);case 8:return e.prev=8,e.t0=e.catch(0),E(e.t0.message),e.abrupt("return",void 0);case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"getFirstPath",value:function(){var e=Object(w.a)(y.a.mark((function e(){var t;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,C.a.get("/api/firstPath");case 3:return t=e.sent,e.abrupt("return",t.data.path);case 7:return e.prev=7,e.t0=e.catch(0),E(e.t0.message),e.abrupt("return","");case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}()},{key:"getSignatureIndex",value:function(){var e=Object(w.a)(y.a.mark((function e(){var t;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,C.a.get("/api/signatureIndex");case 3:return t=e.sent,e.abrupt("return",t.data);case 7:return e.prev=7,e.t0=e.catch(0),E(e.t0.message),e.abrupt("return",{entries:[]});case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}()},{key:"getConfiguration",value:function(){var e=Object(w.a)(y.a.mark((function e(){var t;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,C.a.get("/api/configuration");case 3:return t=e.sent,e.abrupt("return",t.data);case 7:return e.prev=7,e.t0=e.catch(0),E(e.t0.message),e.abrupt("return",{});case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}()}]),e}(),M=function(){function e(t){Object(o.a)(this,e),this.searchClient=void 0,this.autoCompleteClient=void 0,this.allPaths=void 0,this.signatureToEntity=void 0,this.pathToFileResult=void 0,this.firstFileResult=void 0,this.checkResponse=void 0,this.gitHubUrl=void 0,this.signatureIndex=void 0,this.configuration=void 0,this.searchClient=new N(t),this.autoCompleteClient=new S;var n,a=Object(j.a)(t.collectionResult.fileResults);try{for(a.s();!(n=a.n()).done;){var r,i=n.value,c=Object(j.a)(i.entities);try{for(c.s();!(r=c.n()).done;){var s,l=r.value,u=Object(j.a)(l.words);try{for(u.s();!(s=u.n()).done;){var d=s.value;this.autoCompleteClient.add(d)}}catch(y){u.e(y)}finally{u.f()}}}catch(y){c.e(y)}finally{c.f()}}}catch(y){a.e(y)}finally{a.f()}this.allPaths=t.collectionResult.fileResults.map((function(e){return e.relativePath})),this.signatureToEntity=new Map;var p,h=Object(j.a)(t.collectionResult.fileResults);try{for(h.s();!(p=h.n()).done;){var f,m=p.value,b=Object(j.a)(m.entities);try{for(b.s();!(f=b.n()).done;){var x=f.value;this.signatureToEntity.set(x.signature,x)}}catch(y){b.e(y)}finally{b.f()}}}catch(y){h.e(y)}finally{h.f()}this.firstFileResult=t.collectionResult.fileResults[0],this.pathToFileResult=new Map;var v,g=Object(j.a)(t.collectionResult.fileResults);try{for(g.s();!(v=g.n()).done;){var O=v.value;this.pathToFileResult.set(O.relativePath,O)}}catch(y){g.e(y)}finally{g.f()}this.checkResponse={errors:t.collectionResult.errors.map((function(e){return{column:e.column,row:e.row,path:e.relativePath,message:e.message}}))},this.gitHubUrl=t.gitHubUrl,this.signatureIndex=t.signatureIndex,this.configuration=t.configuration}return Object(s.a)(e,[{key:"getAllPaths",value:function(){var e=Object(w.a)(y.a.mark((function e(){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.allPaths);case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getFileResult",value:function(){var e=Object(w.a)(y.a.mark((function e(t){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""!==t){e.next=2;break}return e.abrupt("return",this.firstFileResult);case 2:return e.abrupt("return",this.pathToFileResult.get(t));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"search",value:function(){var e=Object(w.a)(y.a.mark((function e(t){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.searchClient.search(t));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getAutocompleteSuffixes",value:function(){var e=Object(w.a)(y.a.mark((function e(t){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.autoCompleteClient.getSuffixes(t));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getEntityWithSignature",value:function(){var e=Object(w.a)(y.a.mark((function e(t){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.signatureToEntity.get(t));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"check",value:function(){var e=Object(w.a)(y.a.mark((function e(){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.checkResponse);case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getGitHubUrl",value:function(){var e=Object(w.a)(y.a.mark((function e(){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.gitHubUrl);case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getFirstPath",value:function(){var e=Object(w.a)(y.a.mark((function e(){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.allPaths[0]);case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getSignatureIndex",value:function(){var e=Object(w.a)(y.a.mark((function e(){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.signatureIndex);case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getConfiguration",value:function(){var e=Object(w.a)(y.a.mark((function e(){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.configuration);case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),A=null;function B(){if(!A){var e=window.MATHLINGUA_DATA;A=e?new M(e):new R}return A}function H(){return!!window.MATHLINGUA_DATA}function D(){return U.apply(this,arguments)}function U(){return(U=Object(w.a)(y.a.mark((function e(){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",B().getAllPaths());case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function z(){return(z=Object(w.a)(y.a.mark((function e(){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",B().getFirstPath());case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function W(e){return $.apply(this,arguments)}function $(){return($=Object(w.a)(y.a.mark((function e(t){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",B().getFileResult(t));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function q(e){return V.apply(this,arguments)}function V(){return(V=Object(w.a)(y.a.mark((function e(t){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",B().search(t));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function G(e){return X.apply(this,arguments)}function X(){return(X=Object(w.a)(y.a.mark((function e(t){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",B().getAutocompleteSuffixes(t));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function J(e){return Z.apply(this,arguments)}function Z(){return(Z=Object(w.a)(y.a.mark((function e(t){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",B().getEntityWithSignature(t));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Y(){return K.apply(this,arguments)}function K(){return(K=Object(w.a)(y.a.mark((function e(){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",B().check());case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Q(){return(Q=Object(w.a)(y.a.mark((function e(){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",B().getGitHubUrl());case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ee(){return(ee=Object(w.a)(y.a.mark((function e(){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",B().getSignatureIndex());case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function te(){return(te=Object(w.a)(y.a.mark((function e(){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",B().getConfiguration());case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ne(e,t){return ae.apply(this,arguments)}function ae(){return(ae=Object(w.a)(y.a.mark((function e(t,n){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,C.a.put("/api/writePage",{path:t,content:n});case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),E(e.t0.message);case 8:case"end":return e.stop()}}),e,null,[[0,5]])})))).apply(this,arguments)}function re(e){return ie.apply(this,arguments)}function ie(){return(ie=Object(w.a)(y.a.mark((function e(t){var n;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,C.a.get("/api/readPage",{params:{path:t}});case 3:return n=e.sent,e.abrupt("return",n.data.content);case 7:return e.prev=7,e.t0=e.catch(0),E(e.t0.message),e.abrupt("return","");case 11:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function ce(e){return oe.apply(this,arguments)}function oe(){return(oe=Object(w.a)(y.a.mark((function e(t){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,C.a.post("/api/deleteDir",{path:t});case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),E(e.t0.message);case 8:case"end":return e.stop()}}),e,null,[[0,5]])})))).apply(this,arguments)}function se(e){return le.apply(this,arguments)}function le(){return(le=Object(w.a)(y.a.mark((function e(t){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,C.a.post("/api/deleteFile",{path:t});case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),E(e.t0.message);case 8:case"end":return e.stop()}}),e,null,[[0,5]])})))).apply(this,arguments)}function ue(e,t){return de.apply(this,arguments)}function de(){return(de=Object(w.a)(y.a.mark((function e(t,n){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,C.a.post("/api/renameDir",{fromPath:t,toPath:n});case 3:e.next=9;break;case 5:return e.prev=5,e.t0=e.catch(0),E(e.t0.message),e.abrupt("return");case 9:case"end":return e.stop()}}),e,null,[[0,5]])})))).apply(this,arguments)}function pe(e,t){return he.apply(this,arguments)}function he(){return(he=Object(w.a)(y.a.mark((function e(t,n){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,C.a.post("/api/renameFile",{fromPath:t,toPath:n});case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),E(e.t0.message);case 8:case"end":return e.stop()}}),e,null,[[0,5]])})))).apply(this,arguments)}function fe(e){return me.apply(this,arguments)}function me(){return(me=Object(w.a)(y.a.mark((function e(t){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,C.a.post("/api/newDir",{path:t});case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),E(e.t0.message);case 8:case"end":return e.stop()}}),e,null,[[0,5]])})))).apply(this,arguments)}function be(e){return xe.apply(this,arguments)}function xe(){return(xe=Object(w.a)(y.a.mark((function e(t){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,C.a.post("/api/newFile",{path:t});case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),E(e.t0.message);case 8:case"end":return e.stop()}}),e,null,[[0,5]])})))).apply(this,arguments)}function ve(e){return je.apply(this,arguments)}function je(){return(je=Object(w.a)(y.a.mark((function e(t){var n;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,C.a.get("/api/completeSignature",{params:{prefix:t}});case 3:return n=e.sent,e.abrupt("return",n.data.suffixes);case 7:return e.prev=7,e.t0=e.catch(0),E(e.t0.message),e.abrupt("return",[]);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function ge(){return(ge=Object(w.a)(y.a.mark((function e(){var t;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,C.a.get("/api/completions");case 3:return t=e.sent,e.abrupt("return",t.data);case 7:return e.prev=7,e.t0=e.catch(0),E(e.t0.message),e.abrupt("return",{items:[]});case 11:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function Oe(e,t){return ye.apply(this,arguments)}function ye(){return(ye=Object(w.a)(y.a.mark((function e(t,n){var a;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,C.a.get("/api/usedSignaturesAtRow",{params:{path:t,row:n}});case 3:return a=e.sent,e.abrupt("return",a.data.signatures);case 7:return e.prev=7,e.t0=e.catch(0),E(e.t0.message),e.abrupt("return",[]);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}var we=n(25),ke=n(212),_e=n(0),Pe=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(o.a)(this,n),(a=t.call(this,e)).ref=void 0,a.ref=r.a.createRef(),a}return Object(s.a)(n,[{key:"componentDidMount",value:function(){Ce(this.ref.current),Ce(this.ref.current)}},{key:"componentDidUpdate",value:function(){Ce(this.ref.current),Ce(this.ref.current)}},{key:"render",value:function(){var e=this,t=function(e){var t=document.getElementById(e);t&&("mathlingua-dropdown-menu-hidden"===t.className?t.className="mathlingua-dropdown-menu-shown":t.className="mathlingua-dropdown-menu-hidden")},n=function(){var n=Object(w.a)(y.a.mark((function n(a,r){var i;return y.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t(r),n.next=3,J(a);case 3:(i=n.sent)&&e.props.onViewEntity&&e.props.onViewEntity(i);case 5:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}();function a(){return(a=Object(w.a)(y.a.mark((function e(a,r){var i,c,o,s,l,u;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("mathlinguaToggleDropdown"!==a){e.next=8;break}if(i=r[0]){e.next=4;break}return e.abrupt("return");case 4:c=i.substring(1,i.length-1),t(c),e.next=16;break;case 8:if("mathlinguaViewSignature"!==a){e.next=16;break}if(o=r[0],s=r[1],o&&s){e.next=13;break}return e.abrupt("return");case 13:l=o.substring(1,o.length-1).replace(/\\\\/,"\\"),u=s.substring(1,s.length-1),n(l,u);case 16:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var r={replace:function(e){if(e instanceof I.Element&&e.attribs&&e.attribs.onclick){var t=e.attribs.onclick;delete e.attribs.onclick;var n=e.attribs.class;delete e.attribs.class;var i=/([a-zA-Z0-9]+)\((.*?)\)/.exec(t.trim());if(i&&3===i.length){var c=i[1],o=i[2].split(",").map((function(e){return e.trim()}));return Object(_e.jsx)("span",{className:n,onClick:function(){return function(e,t){return a.apply(this,arguments)}(c,o)},children:Object(P.b)(e.children,r)})}}}};return Object(_e.jsx)("div",{ref:this.ref,children:Object(P.a)(this.props.html.replace(/CUSTOM_SUFFIX/g,ke.a()),r)})}}]),n}(r.a.Component),Ie=Object(we.b)()(Pe);function Te(e){var t=e;'"'===t[0]&&(t=t.substring(1)),'"'===t[t.length-1]&&(t=t.substring(0,t.length-1)),t=t.replace(/([a-zA-Z0-9])\?\??/g,"$1");for(var n=document.createDocumentFragment(),a="",r=0;r<t.length;)if("$"===t[r]&&"$"===t[r+1]&&"$"===t[r+2]){r+=3,n.appendChild(document.createTextNode(a)),a="";for(var i=document.createElement("span"),c="";r<t.length&&("$"!==t[r]||"$"!==t[r+1]||"$"!==t[r+2]);)c+=t[r++];"$"===t[r]&&r++,"$"===t[r]&&r++,"$"===t[r]&&r++;try{katex.render(c,i,{throwOnError:!0,displayMode:!1})}catch(m){i.appendChild(document.createTextNode(c))}n.appendChild(i)}else if("\\"===t[r]&&"["===t[r+1]){r+=2,n.appendChild(document.createTextNode(a)),a="";var o=document.createElement("span");o.className="display-mode";for(var s="";r<t.length&&("\\"!==t[r]||"]"!==t[r+1]);)s+=t[r++];"\\"===t[r]&&r++,"]"===t[r]&&r++;try{katex.render(s,o,{throwOnError:!0,displayMode:!0})}catch(b){o.appendChild(document.createTextNode(s))}n.appendChild(o)}else if("\\"===t[r]&&"("===t[r+1]){r+=2,n.appendChild(document.createTextNode(a)),a="";for(var l=document.createElement("span"),u="";r<t.length&&("\\"!==t[r]||")"!==t[r+1]);)u+=t[r++];"\\"===t[r]&&r++,")"===t[r]&&r++;try{katex.render(u,l,{throwOnError:!0,displayMode:!1})}catch(x){l.appendChild(document.createTextNode(u))}n.appendChild(l)}else if("$"===t[r]&&"$"===t[r+1]){r+=2,n.appendChild(document.createTextNode(a)),a="";var d=document.createElement("span");d.className="display-mode";for(var p="";r<t.length&&("$"!==t[r]||"$"!==t[r+1]);)p+=t[r++];"$"===t[r]&&r++,"$"===t[r]&&r++;try{katex.render(p,d,{throwOnError:!0,displayMode:!0})}catch(v){d.appendChild(document.createTextNode(p))}n.appendChild(d)}else if("$"===t[r]){r++,n.appendChild(document.createTextNode(a)),a="";for(var h=document.createElement("span"),f="";r<t.length&&"$"!==t[r];)f+=t[r++];"$"===t[r]&&r++;try{katex.render(f,h,{throwOnError:!0,displayMode:!1})}catch(j){h.appendChild(document.createTextNode(f))}n.appendChild(h)}else a+=t[r++];return a.length>0&&n.appendChild(document.createTextNode(a)),n}function Ce(e){if(!(e.className&&e.className.indexOf&&e.className.indexOf("no-render")>=0)){var t=!1;if("mathlingua"===e.className)for(var n=0;n<e.childNodes.length;n++){var a=e.childNodes[n];if(a&&"mathlingua-header"===a.className&&"written:"===a.textContent){t=!0;break}}for(var r=0;r<e.childNodes.length;r++){var i=e.childNodes[r];if(3===i.nodeType){var c=i.textContent;if(c.trim()){t&&('"'===c[0]&&(c=c.substring(1)),'"'===c[c.length-1]&&(c=c.substring(0,c.length-1)),c="$$$"+c+"$$$");var o=Te(c);r+=o.childNodes.length-1,e.replaceChild(o,i)}}else 1===i.nodeType&&Ce(i)}}}var Le=n(89),Se=n.n(Le),Ne=function(e){return Object(_e.jsx)("div",{className:Se.a.mathlinguaBlockCommentTopLevel,children:Object(_e.jsx)(Ie,{html:e.renderedHtml})})},Fe=n(26),Ee=n.n(Fe),Re=n(54),Me=n.n(Re);function Ae(e){return Object(_e.jsxs)("div",{className:Me.a.errorMessage,children:[Object(_e.jsx)("span",{className:Me.a.errorLabel,children:"ERROR:"})," ",e.message]})}var Be=n(46),He=n.n(Be),De=n(7),Ue=n(8),ze=function(e){return Object(_e.jsx)("div",{className:He.a.entitiesPanel,style:e.entityPanes.length>0?{display:"block"}:{display:"none"},children:Object(_e.jsxs)("div",{children:[Object(_e.jsx)("button",{className:He.a.closeAllButton,onClick:function(){e.onCloseAll&&e.onCloseAll()},"data-test-id":"close-all-entities",children:Object(_e.jsx)(De.a,{icon:Ue.p})}),e.entityPanes.map((function(e){return Object(_e.jsx)("span",{className:He.a.entitiesPanelItem,children:e.topLevelEntry},e.id)}))]})})},We=n(35),$e=n.n(We),qe=function(e){var t=Object(a.useState)(!0),n=Object(d.a)(t,2),r=n[0],i=n[1];return Object(_e.jsxs)("div",{id:e.id,className:$e.a.mathlinguaTopLevel,children:[e.showCloseButton?Object(_e.jsx)("button",{className:$e.a.mathlinguaCloseButton,onClick:function(){e.onEntityClosed&&e.onEntityClosed(e.id)},"data-test-id":"close-single-top-level-entry",children:Object(_e.jsx)(De.a,{icon:Ue.p})}):null,Object(_e.jsxs)("span",{className:$e.a.mathlinguaIconPane,children:[e.showOpenButton?Object(_e.jsx)(f.b,{to:"/".concat(e.relativePath,"#").concat(e.id),className:$e.a.mathlinguaOpenIcon,children:Object(_e.jsx)(De.a,{icon:Ue.o})}):null,Object(_e.jsx)("button",{className:$e.a.mathlinguaFlipIcon,onClick:function(){i(!r)},children:"\u2022"})]}),r?Object(_e.jsx)(Ie,{onViewEntity:e.onViewEntity,html:e.renderedHtml}):Object(_e.jsx)(Ie,{onViewEntity:e.onViewEntity,html:e.rawHtml})]})},Ve=n(47),Ge=n.n(Ve),Xe=function(e){var t=Object(a.useState)([]),n=Object(d.a)(t,2),r=n[0],i=n[1],c=function(e){i(r.concat({id:ke.a(),entityResult:e}))},o=function(e){i(r.filter((function(t){return t.id!==e})))};return Object(_e.jsxs)("div",{className:Ge.a.topLevelEntityGroup,children:[Object(_e.jsx)(qe,{id:e.entity.id,relativePath:e.entity.relativePath,rawHtml:e.entity.rawHtml,renderedHtml:e.entity.renderedHtml,showOpenButton:!1,showCloseButton:!1,onViewEntity:c,onEntityClosed:o}),r.length>0?Object(_e.jsx)("div",{className:Ge.a.triangleBorder,children:Object(_e.jsx)("div",{className:Ge.a.triangle})}):null,Object(_e.jsx)(ze,{entityPanes:r.map((function(e){return{id:e.id,topLevelEntry:Object(_e.jsx)("div",{children:Object(_e.jsx)(qe,{id:e.id,relativePath:e.entityResult.relativePath,showOpenButton:!0,showCloseButton:!0,rawHtml:e.entityResult.rawHtml,renderedHtml:e.entityResult.renderedHtml,onViewEntity:c,onEntityClosed:o})})}})),onCloseAll:function(){return i([])}})]})},Je=function(){return Object(we.c)()},Ze=we.d,Ye=n(12),Ke=Object(Ye.b)({name:"query",initialState:{query:""},reducers:{queryUpdated:function(e,t){e.query=t.payload}}}),Qe=function(e){return e.query.query},et=Ke.actions.queryUpdated,tt=Ke.reducer,nt=n(91),at=n.n(nt),rt=n(92),it=n.n(rt),ct=(n(153),n(56)),ot=(n(154),n(155),{isEditMode:!H()}),st=Object(Ye.b)({name:"isEditMode",initialState:ot,reducers:{isEditModeUpdated:function(e,t){e.isEditMode=t.payload}}}),lt=function(e){return e.isEditMode.isEditMode},ut=st.actions.isEditModeUpdated,dt=st.reducer;function pt(){return(window.innerWidth+1)/(window.innerHeight+1)<1}var ht,ft,mt=Object(Ye.b)({name:"errorResults",initialState:{errors:[]},reducers:{errorResultsUpdated:function(e,t){e.errors=t.payload}}}),bt=function(e){return e.errorResults.errors},xt=mt.actions.errorResultsUpdated,vt=mt.reducer,jt=n(45),gt=n.n(jt),Ot={font:null!==(ht=window.localStorage.getItem("mlg.editorFont"))&&void 0!==ht?ht:"Inconsolata"},yt=Object(Ye.b)({name:"editorFont",initialState:Ot,reducers:{editorFontUpdated:function(e,t){e.font=t.payload}}}),wt=function(e){return e.editorFont.font},kt=yt.actions.editorFontUpdated,_t=yt.reducer,Pt={fontSize:null!==(ft=window.localStorage.getItem("mlg.editorFontSize"))&&void 0!==ft?ft:"18"},It=Object(Ye.b)({name:"editorFontSize",initialState:Pt,reducers:{editorFontSizeUpdated:function(e,t){e.fontSize=t.payload}}}),Tt=function(e){return e.editorFontSize.fontSize},Ct=It.actions.editorFontSizeUpdated,Lt=It.reducer,St=n(51),Nt=[];H()||function(){return ge.apply(this,arguments)}().then((function(e){Nt=e.items})).catch(console.error),document.addEventListener("keydown",(function(e){(e.ctrlKey||e.metaKey)&&"s"===e.key&&e.preventDefault()}));var Ft=function(e){var t=Object(a.useState)(void 0),n=Object(d.a)(t,2),r=n[0],i=n[1],c=Object(a.useState)(""),o=Object(d.a)(c,2),s=o[0],l=o[1],u=Object(a.useState)(!0),p=Object(d.a)(u,2),h=p[0],f=p[1],m=Ze(lt);return Object(a.useEffect)((function(){W(e.viewedPath).then((function(e){e?(l(""),i(e)):l("Page Not Found"),f(!1)}))}),[m,e.viewedPath]),s?Object(_e.jsx)("div",{className:Ee.a.mathlinguaPage,children:Object(_e.jsx)(Ae,{message:s})}):r||h?!r||0===r.entities.length&&0===r.errors.length?null:m?Object(_e.jsx)(At,{relativePath:e.viewedPath,viewedLine:e.viewedLine,errors:r.errors,entities:r.entities,targetId:e.targetId,onOpenFileInTab:e.onOpenFileInTab}):Object(_e.jsx)(Et,{isOnMobile:pt(),fileResult:r,targetId:e.targetId}):Object(_e.jsx)("div",{children:Object(_e.jsx)(Ae,{message:"Page Not Found"})})},Et=function(e){return Object(_e.jsxs)("div",{className:Ee.a.mathlinguaPage,children:[Object(_e.jsx)(Rt,{relativePath:e.fileResult.relativePath,errors:e.fileResult.errors,entities:e.fileResult.entities,targetId:e.targetId}),Object(_e.jsxs)("div",{className:Ee.a.linkPanel,children:[e.fileResult.previousRelativePath?Object(_e.jsx)("a",{className:Ee.a.previousLink,href:"#/".concat(e.fileResult.previousRelativePath),children:Object(_e.jsx)(De.a,{icon:Ue.a})}):null,e.fileResult.nextRelativePath?Object(_e.jsx)("a",{className:Ee.a.nextLink,href:"#/".concat(e.fileResult.nextRelativePath),children:Object(_e.jsx)(De.a,{icon:Ue.b})}):null]})]})},Rt=function(e){var t=Ze(Qe),n=Object(a.useRef)(null);return Object(a.useEffect)((function(){if(n.current){var e=new _.a(n.current);e.unmark({done:function(){t.length>0&&e.mark(t,{caseSensitive:!1,separateWordSearch:!0})}})}}),[e.relativePath,e.entities,t]),Object(a.useEffect)((function(){if(n.current){window.scroll({top:0,left:0,behavior:"auto"});var t=document.getElementById(e.targetId);t&&t.scrollIntoView()}}),[e.targetId,e.relativePath,t]),Object(_e.jsxs)("div",{ref:n,children:[Object(_e.jsx)("div",{className:Ee.a.errorView,children:(e.errors||[]).map((function(e){return Object(_e.jsxs)("div",{className:Ee.a.errorItem,children:["ERROR (".concat(e.row+1,", ").concat(e.column+1,"):"),Object(_e.jsx)("pre",{children:e.message})]})}))}),e.entities.map((function(t){return Object(_e.jsx)("div",{children:"TopLevelBlockComment"===t.type?Object(_e.jsx)(Ne,{renderedHtml:t.renderedHtml,rawHtml:t.rawHtml}):Object(_e.jsx)(Xe,{entity:t,relativePath:e.relativePath})},t.id)}))]})},Mt=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(o.a)(this,n),(a=t.call(this,e)).scheduledFunction=null,a.editor=void 0,a.ref=void 0,a.state={annotations:[],showMenu:!1,menuX:0,menuY:0,usedSignatures:[]},a}return Object(s.a)(n,[{key:"componentDidMount",value:function(){var e=Object(w.a)(y.a.mark((function e(){var t=this;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setupCompletions(),e.next=3,this.initializeEditor();case 3:this.ref&&this.ref.refEditor&&(this.ref.refEditor.onclick=function(e){t.setState({showMenu:!1}),t.forceUpdate()},this.ref.refEditor.oncontextmenu=function(){var e=Object(w.a)(y.a.mark((function e(n){var a,r,i,c,o,s;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),a=t.editor.getCursorPosition(),r=t.editor.renderer.textToScreenCoordinates(a.row,a.column),i=r.pageX,c=r.pageY,o=i,s=c+t.editor.renderer.lineHeight,e.t0=t,e.next=8,Oe(t.props.viewedPath,a.row);case 8:e.t1=e.sent,e.t2=o,e.t3=s,e.t4={showMenu:!0,usedSignatures:e.t1,menuX:e.t2,menuY:e.t3},e.t0.setState.call(e.t0,e.t4),t.forceUpdate();case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),this.gotoLine(this.props.viewedLine);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"gotoLine",value:function(e){this.editor.resize(!0),this.editor.scrollToLine(e,!1,!0,(function(){})),this.editor.gotoLine(e,0,!0)}},{key:"shouldComponentUpdate",value:function(e,t){return e.viewedPath!==this.props.viewedPath||e.editorFont!==this.props.editorFont||e.editorFontSize!==this.props.editorFontSize||t.annotations!==this.state.annotations}},{key:"componentDidUpdate",value:function(){var e=Object(w.a)(y.a.mark((function e(t){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.viewedPath===this.props.viewedPath){e.next=4;break}return this.scheduledFunction&&this.scheduledFunction.flush(),e.next=4,this.initializeEditor();case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"componentWillUnmount",value:function(){this.scheduledFunction&&this.scheduledFunction.cancel()}},{key:"areAnnotationsEqual",value:function(e,t){return e.column===t.column&&e.row===t.row&&e.text===t.text&&e.type===t.type}},{key:"check",value:function(e){var t=this;return Y().then((function(n){t.props.dispatch(xt(n.errors.map((function(e){return{row:e.row,column:e.column,message:e.message,relativePath:e.path}}))));var a=n.errors.filter((function(t){return t.path===e})).map((function(e){return{row:Math.max(0,e.row),column:Math.max(0,e.column),text:e.message,type:"error"}})),r=!1;if(t.state.annotations.length!==a.length)r=!0;else for(var i=0;i<t.state.annotations.length;i++){var c=t.state.annotations[i],o=a[i];if(!t.areAnnotationsEqual(c,o)){r=!0;break}}r&&t.setState(Object(g.a)(Object(g.a)({},t.state),{},{annotations:a}))}))}},{key:"saveAndUpdateAnnotations",value:function(){var e=Object(w.a)(y.a.mark((function e(t,n){var a=this;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ne(t,n);case 2:return e.next=4,Promise.all([this.check(t),W(t).then((function(e){return a.props.onFileResultChanged(e)}))]);case 4:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"initializeEditor",value:function(){var e=Object(w.a)(y.a.mark((function e(){var t,n,a,r,i,c,o,s,l=this;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.props.onFileResultChanged({content:"",entities:[],errors:[],relativePath:""}),e.next=3,re(this.props.viewedPath).then((function(e){l.editor.setValue(e),l.editor.clearSelection()}));case 3:return e.next=5,this.check(this.props.viewedPath);case 5:if(t=document.getElementsByClassName("ace_gutter"))for(n=0,a=Array.from(t);n<a.length;n++)(r=a[n]).style.backgroundColor="#f5f5f8",r.style.borderRight="solid",r.style.borderRightWidth="1px",r.style.borderRightColor="#dddddd";if(i=document.getElementsByClassName("ace_content"))for(c=0,o=Array.from(i);c<o.length;c++)(s=o[c]).style.borderTop="solid",s.style.borderTopColor="#dddddd",s.style.borderTopWidth="1px";case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getEssentialIndent",value:function(e){for(var t=0;t<e.length&&(" "===e[t]||"."===e[t]);)t++;return t}},{key:"setupCompletions",value:function(){var e=this;ct.setCompleters(),ct.addCompleter({getCompletions:function(){var t=Object(w.a)(y.a.mark((function t(n,a,r,i,c){var o,s,l,u,d,p,h,f,m,b,x,v,g,O,w,k,_,P,I,T,C,L,S,N,F,E,R,M,A,B,H,D,U,z,W,$,q;return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:o=e.getEssentialIndent(n.session.getLine(r.row)),s=[],l=r.row-1;case 3:if(!(l>=0)){t.next=17;break}if(0!==(u=n.session.getLine(l)).trim().length&&!u.trim().startsWith("[")){t.next=7;break}return t.abrupt("break",17);case 7:if((d=e.getEssentialIndent(u))!==o){t.next=12;break}s.unshift(u.substring(o).replace("?:",":").replace(/:.*/,":")),t.next=14;break;case 12:if(!(o<d)){t.next=14;break}return t.abrupt("break",17);case 14:l--,t.next=3;break;case 17:return t.next=19,ve("\\".concat(i));case 19:if(p=t.sent.map((function(e){return{value:i+e,caption:i+e}})),h=[],f=1,!(s.length>0)){t.next=79;break}m=Object(j.a)(Nt),t.prev=24,m.s();case 26:if((b=m.n()).done){t.next=71;break}x=b.value,v=!0,g=0,O=0;case 31:if(!(O<s.length)){t.next=46;break}w=!1;case 33:if(!(g<x.parts.length)){t.next=40;break}if(_=null===(k=x.parts[g++])||void 0===k?void 0:k.replace("[]\n","").replace("?:",":"),s[O]!==_){t.next=38;break}return w=!0,t.abrupt("break",40);case 38:t.next=33;break;case 40:if(w){t.next=43;break}return v=!1,t.abrupt("break",46);case 43:O++,t.next=31;break;case 46:if(!v){t.next=59;break}if(!(I=null===(P=s[0])||void 0===P?void 0:P.replace("[]\n","").replace("?:",":"))){t.next=59;break}if(!((T=x.parts.map((function(e){return e.replace("[]\n","").replace("?:",":")})).indexOf(I))>=0)){t.next=59;break}C=0;case 52:if(!(C<T)){t.next=59;break}if(-1!==x.parts[C].indexOf("?")){t.next=56;break}return v=!1,t.abrupt("break",59);case 56:C++,t.next=52;break;case 59:if(!v){t.next=69;break}L=0;case 61:if(!(L<x.parts.length)){t.next=69;break}if((null===(S=x.parts[L])||void 0===S||null===(N=S.replace("[]\n",""))||void 0===N?void 0:N.replace("?:",":"))!==s[s.length-1]){t.next=66;break}for(F=L+1;F<x.parts.length;F++)M=null===(E=x.parts[F])||void 0===E||null===(R=E.replace("[]\n",""))||void 0===R?void 0:R.replace("?:",":"),h.push({value:M,caption:x.parts[F].indexOf("?:")>=0?"".concat(M," (optional)"):x.parts[F],score:1/f++});return t.abrupt("break",69);case 66:L++,t.next=61;break;case 69:t.next=26;break;case 71:t.next=76;break;case 73:t.prev=73,t.t0=t.catch(24),m.e(t.t0);case 76:return t.prev=76,m.f(),t.finish(76);case 79:if(i){A=Object(j.a)(Nt);try{for(A.s();!(B=A.n()).done;)U=B.value,(z=null===(H=U.parts[0])||void 0===H||null===(D=H.replace("[]\n",""))||void 0===D?void 0:D.replace("?:",":"))&&z.startsWith(i)&&(q=null===(W=U.parts[0])||void 0===W||null===($=W.replace("[]\n",""))||void 0===$?void 0:$.replace("?:",":"),h.push({value:U.parts[0],caption:U.parts[0].indexOf("?:")>=0?"".concat(q," (optional)"):U.parts[0],score:1/f++}))}catch(a){A.e(a)}finally{A.f()}}else 0===s.length&&(h=h.concat(Nt.map((function(e){var t,n,a=null===(t=e.parts[0])||void 0===t||null===(n=t.replace("[]\n",""))||void 0===n?void 0:n.replace("?:",":");return{caption:e.parts[0].indexOf("?:")>=0?"".concat(a," (optional)"):e.parts[0],value:e.parts[0]}}))));""!==i&&(h=h.concat(p)),c(null,h);case 82:case"end":return t.stop()}}),t,null,[[24,73,76,79]])})));return function(e,n,a,r,i){return t.apply(this,arguments)}}()})}},{key:"render",value:function(){var e=this;return Object(_e.jsxs)("div",{children:[this.state.showMenu?Object(_e.jsx)("div",{style:{position:"fixed",left:this.state.menuX,top:this.state.menuY,zIndex:100,border:"solid",borderWidth:"1px",borderColor:"rgba(230, 230, 230)",borderRadius:"2px",boxShadow:"rgba(0, 0, 0, 0.1) 0px 3px 10px, inset 0 0 0 0 rgba(240, 240, 240, 0.5)"},children:this.state.usedSignatures.map((function(t){return Object(_e.jsx)("button",{className:Ee.a.editorMenuItem,onClick:function(){t.defPath===e.props.viewedPath?(e.gotoLine(t.defRow),e.setState({showMenu:!1}),e.forceUpdate()):e.props.onOpenFileInTab(t.defPath,t.defRow)},children:t.signature},t.signature)}))}):null,Object(_e.jsx)(it.a,{ref:function(t){var n=null===t||void 0===t?void 0:t.editor;n&&n!==e.editor&&(e.editor=n,e.ref=t)},mode:"yaml",theme:"eclipse",onChange:function(){e.scheduledFunction&&e.scheduledFunction.cancel();var t=e.props.viewedPath,n=e.editor.getValue();e.scheduledFunction=at()(Object(w.a)(y.a.mark((function a(){return y.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(!e.editor){a.next=3;break}return a.next=3,e.saveAndUpdateAnnotations(t,n);case 3:case"end":return a.stop()}}),a)}))),500),e.scheduledFunction()},name:"ace-editor",editorProps:{$blockScrolling:!0},highlightActiveLine:!1,showPrintMargin:!1,enableBasicAutocompletion:!0,enableLiveAutocompletion:!1,tabSize:2,setOptions:{useSoftTabs:!0},fontSize:"".concat(this.props.editorFontSize,"px"),style:{fontFamily:this.props.editorFont,position:"relative",width:"100%",height:"100vh",minHeight:"100vh",border:"none"},commands:[{name:"save",bindKey:{win:"Ctrl-s",mac:"Command-s"},exec:function(){if(e.editor)return e.saveAndUpdateAnnotations(e.props.viewedPath,e.editor.getValue())}}],annotations:this.state.annotations})]})}}]),n}(r.a.Component),At=function(e){var t=Object(a.useState)(e.relativePath),n=Object(d.a)(t,2),r=n[0],i=n[1],c=Object(a.useState)(e.errors),o=Object(d.a)(c,2),s=o[0],l=o[1],u=Object(a.useState)(e.entities),p=Object(d.a)(u,2),h=p[0],f=p[1],m=Ze(wt),b=Ze(Tt),x=Je();return Object(_e.jsxs)(gt.a,{children:[Object(_e.jsx)(St,{children:Object(_e.jsx)(Mt,{dispatch:x,viewedPath:e.relativePath,viewedLine:e.viewedLine,onFileResultChanged:function(e){e&&(i(e.relativePath),l(e.errors),f(e.entities))},onOpenFileInTab:e.onOpenFileInTab,editorFont:m,editorFontSize:b})}),Object(_e.jsx)(St,{children:Object(_e.jsx)("div",{style:{height:"100vh",overflow:"scroll",background:"#ffffff",borderTop:"solid",borderTopColor:"#dddddd",borderTopWidth:"1px"},children:Object(_e.jsx)(Rt,{relativePath:r,errors:s,entities:h,targetId:e.targetId})})})]})},Bt=n(58),Ht=n.n(Bt),Dt=n(101),Ut=Object(Ye.b)({name:"paths",initialState:{paths:[]},reducers:{pathsUpdated:function(e,t){t.payload?e.paths=Object(Dt.a)(t.payload):e.paths=t.payload}}}),zt=function(e){return e.paths.paths},Wt=Ut.actions.pathsUpdated,$t=function(e){return function(){var t=Object(w.a)(y.a.mark((function t(n){var a;return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,q(e);case 2:a=t.sent,n(Wt(a));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},qt=Ut.reducer,Vt=n(13),Gt=n.n(Vt),Xt={sidePanelVisible:!pt()},Jt=Object(Ye.b)({name:"sidePanelVisible",initialState:Xt,reducers:{sidePanelVisibilityChanged:function(e,t){e.sidePanelVisible=t.payload}}}),Zt=function(e){return e.sidePanelVisible.sidePanelVisible},Yt=Jt.actions.sidePanelVisibilityChanged,Kt=Jt.reducer,Qt=n(95),en={path:void 0},tn=Object(Ye.b)({name:"query",initialState:en,reducers:{selectedTabPathUpdated:function(e,t){e.path=t.payload}}}),nn=function(e){return e.selectedTabPath.path},an=tn.actions.selectedTabPathUpdated,rn=tn.reducer,cn=function e(t){var n=Je(),r=Object(a.useState)(t.node.isDir&&("content"===t.node.name||t.viewedPath.startsWith(t.node.path))),i=Object(d.a)(r,2),c=i[0],o=i[1],s=Ze(nn),l=Ze(lt),u=Ze(bt),p=Object(a.useState)(""),h=Object(d.a)(p,2),m=h[0],b=h[1],x=Object(a.useState)(!1),v=Object(d.a)(x,2),g=v[0],O=v[1],k=Object(a.useState)(!1),_=Object(d.a)(k,2),P=_[0],I=_[1],T=function(){var e=Object(w.a)(y.a.mark((function e(){var t,a;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,D();case 2:return t=e.sent,n(Wt(t)),e.next=6,Y();case 6:a=e.sent,n(xt(a.errors.map((function(e){return{row:e.row,column:e.column,message:e.message,relativePath:e.path}}))));case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),C=function e(t,n){if(t.isDir){var a,r=[],i=Object(j.a)(t.children);try{for(i.s();!(a=i.n()).done;){var c=a.value;r=r.concat(e(c,n))}}catch(o){i.e(o)}finally{i.f()}return r}return u.filter((function(e){return e.relativePath===t.path}))},L=function(e){var n=C(t.node,e);if(!l||0===n.length)return null;var a=1===n.length?" error":" errors";return Object(_e.jsxs)("span",{className:Gt.a.errorStats,children:[" ","(",n.length," ",a,")"]})},S=t.node.name;if(!l){var N=S.indexOf("_");if(N>=0){var F=S.substring(0,N);F.length>0&&!isNaN(+F)&&(S=S.substring(N+1))}S=S.replace(".math","").replace(/_/g," ")}var E=function(){var e=Object(w.a)(y.a.mark((function e(){var n,a;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(m&&(t.node.isDir||m.endsWith(".math"))){e.next=3;break}return alert("The new filename must be non-empty and end in .math but found '".concat(m,"'")),e.abrupt("return");case 3:if((n=t.node.path.split("/")).pop(),n.push(m),a=n.join("/"),!t.node.isDir){e.next=14;break}return e.next=10,ue(t.node.path,a);case 10:return e.next=12,T();case 12:e.next=18;break;case 14:return e.next=16,pe(t.node.path,a);case 16:return e.next=18,T();case 18:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),R=function(e){e.preventDefault(),E()},M=function(){return l?Object(_e.jsxs)("span",{children:[Object(_e.jsx)("button",{className:Gt.a.button,style:{display:"content"===t.node.path||g||P||t.node.isDir?"none":"inline"},onClick:function(){t.onOpenFileInTab(t.node.path)},children:Object(_e.jsx)(De.a,{icon:Qt.a,style:{filter:"drop-shadow(0.45px 0.45px 0px rgba(0, 0, 0, 0.2))"}})}),Object(_e.jsx)("button",{className:Gt.a.button,style:{display:"content"===t.node.path||g||P?"none":"inline"},onClick:function(){O(!0),I(!1)},children:Object(_e.jsx)(De.a,{icon:Ue.l,style:{filter:"drop-shadow(0.45px 0.45px 0px rgba(0, 0, 0, 0.2))"}})}),!t.node.isDir||g||P?null:Object(_e.jsx)("button",{className:Gt.a.button,onClick:Object(w.a)(y.a.mark((function e(){var n;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.node.path.split("/").concat("Untitled.math").join("/"),e.next=3,be(n);case 3:return o(!0),e.next=6,T();case 6:case"end":return e.stop()}}),e)}))),children:Object(_e.jsx)(De.a,{icon:Ue.j,style:{filter:"drop-shadow(0.45px 0.45px 0px rgba(0, 0, 0, 0.2))"}})}),!t.node.isDir||g||P?null:Object(_e.jsx)("button",{className:Gt.a.button,onClick:Object(w.a)(y.a.mark((function e(){var n;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.node.path.split("/").concat("Untitled").join("/"),e.next=3,fe(n);case 3:return o(!0),e.next=6,T();case 6:case"end":return e.stop()}}),e)}))),children:Object(_e.jsx)(De.a,{icon:Ue.k,style:{filter:"drop-shadow(0.45px 0.45px 0px rgba(0, 0, 0, 0.2))"}})}),Object(_e.jsx)("button",{className:Gt.a.button,style:{display:g||P?"inline":"none"},onClick:Object(w.a)(y.a.mark((function e(){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!g){e.next=5;break}return e.next=3,E();case 3:e.next=16;break;case 5:if(!t.node.isDir){e.next=12;break}return e.next=8,ce(t.node.path);case 8:return e.next=10,T();case 10:e.next=16;break;case 12:return e.next=14,se(t.node.path);case 14:return e.next=16,T();case 16:O(!1),I(!1);case 18:case"end":return e.stop()}}),e)}))),children:Object(_e.jsx)(De.a,{icon:Ue.g,style:{filter:"drop-shadow(0.45px 0.45px 0px rgba(0, 0, 0, 0.2))"}})}),Object(_e.jsx)("button",{className:Gt.a.button,style:{display:g||P?"inline":"none"},onClick:function(){O(!1),I(!1)},children:Object(_e.jsx)(De.a,{icon:Ue.p,style:{filter:"drop-shadow(0.45px 0.45px 0px rgba(0, 0, 0, 0.2))"}})}),Object(_e.jsx)("button",{className:Gt.a.button,style:{display:"content"===t.node.path||g||P?"none":"inline"},onClick:function(){I(!0),O(!1)},children:Object(_e.jsx)(De.a,{icon:Ue.q,style:{filter:"drop-shadow(0.45px 0.45px 0px rgba(0, 0, 0, 0.2))"}})})]}):null};return t.node.isDir?Object(_e.jsxs)("span",{className:Gt.a.sidePanelItem,style:{width:l?"max-content":"unset",maxWidth:l?"max-content":"unset"},children:[Object(_e.jsxs)("li",{className:Gt.a.mathlinguaListDirItem,onClick:function(){return o(!c)},children:[c?Object(_e.jsx)("button",{className:Gt.a.triangle,children:Object(_e.jsx)(De.a,{icon:Ue.d,style:{filter:"drop-shadow(0.45px 0.45px 0px rgba(0, 0, 0, 0.2))"}})}):Object(_e.jsx)("button",{className:Gt.a.triangle,children:Object(_e.jsx)(De.a,{icon:Ue.e,style:{filter:"drop-shadow(0.45px 0.45px 0px rgba(0, 0, 0, 0.2))"}})}),g?Object(_e.jsxs)("form",{onSubmit:R,children:[Object(_e.jsx)("input",{className:Gt.a.input,type:"text",placeholder:t.node.name,onChange:function(e){return b(e.target.value)}}),M()]}):Object(_e.jsxs)("span",{children:[Object(_e.jsx)("span",{style:{fontWeight:"normal"},children:L(u)})," ",S]}),g?null:M()]}),c?Object(_e.jsx)("ul",{children:t.node.children.map((function(n){return Object(_e.jsx)(e,{node:n,viewedPath:t.viewedPath,onOpenFileInTab:t.onOpenFileInTab},n.name)}))}):null]}):Object(_e.jsx)("span",{className:Gt.a.sidePanelItem,style:{width:l?"max-content":"unset",maxWidth:l?"max-content":"unset"},children:Object(_e.jsxs)("li",{className:Gt.a.mathlinguaListFileItem,children:[g?Object(_e.jsxs)("form",{onSubmit:R,children:[Object(_e.jsx)("input",{className:Gt.a.input,type:"text",placeholder:t.node.name,onChange:function(e){return b(e.target.value)}}),M()]}):Object(_e.jsxs)(f.b,{to:"/".concat(t.node.path),className:t.viewedPath===t.node.path&&(!s||s===t.node.path)||s===t.node.path||""===t.viewedPath&&t.node.isFirstMathFile?"".concat(Gt.a.link," ").concat(Gt.a.selected):Gt.a.link,onClick:function(){pt()&&n(Yt(!1)),n(an(t.node.path))},children:[Object(_e.jsx)("span",{style:{fontWeight:"normal"},children:L(u)})," ",S]},t.node.name),g?null:M()]})})},on=function(e){var t,n=Je(),r=Ze(zt),i=Ze(lt),c=Object(a.useState)([]),o=Object(d.a)(c,2),s=o[0],l=o[1],u=Object(a.useState)(""),p=Object(d.a)(u,2),h=p[0],f=p[1],m=Object(a.useState)({name:"",isDir:!0,isFirstMathFile:!1,path:"",children:[]}),b=Object(d.a)(m,2),x=b[0],v=b[1];Object(a.useEffect)((function(){D().then((function(e){l(e),n(Wt(e))})).catch((function(e){return f(e.message)}))}),[n]),Object(a.useEffect)((function(){v(function(e){var t,n={name:"",isDir:!0,isFirstMathFile:!1,path:"",children:[]},a=[!1],r=Object(j.a)(e);try{for(r.s();!(t=r.n()).done;){sn(n,t.value,a)}}catch(i){r.e(i)}finally{r.f()}return n}(null!==r&&void 0!==r?r:s))}),[s,r]);var g=Object(_e.jsx)("div",{className:Ht.a.sidePanel,children:Object(_e.jsx)(Ae,{message:h})}),O=i?x:x.children[0],y=null===O||void 0===O||null===(t=O.children)||void 0===t?void 0:t.map((function(t){return Object(_e.jsx)(cn,{node:t,viewedPath:e.viewedPath,onOpenFileInTab:e.onOpenFileInTab},t.name)}));!i&&y&&(y=y.concat(Object(_e.jsx)(cn,{node:{name:"Index",path:"index",isDir:!1,isFirstMathFile:!1,children:[]},viewedPath:e.viewedPath,onOpenFileInTab:e.onOpenFileInTab},"index")));var w=Object(_e.jsx)("div",{className:Ht.a.sidePanel,style:i?{height:"calc(100vh - 1.75em)",overflow:"auto"}:{},children:y});return h?g:w};function sn(e,t,n){for(var a=t.split("/"),r=e,i=function(e){var t=a[e],i=r.children.find((function(e){return e.name===t}));if(i)r=i;else{var c=e!==a.length-1,o=!1;n[0]||c||(o=!0,n[0]=!0);var s={name:t,isDir:c,isFirstMathFile:o,path:a.slice(0,e+1).join("/"),children:[]};r.children.push(s),r=s}},c=0;c<a.length;c++)i(c)}var ln=n(96),un=n.n(ln),dn=n(97),pn=n.n(dn),hn=function(){var e=Ze(Zt),t=Je();return Object(_e.jsx)("div",{style:{display:"flex",alignItems:"center",padding:0,marginLeft:0,marginRight:0,marginTop:0,marginBottom:"auto"},children:Object(_e.jsx)("button",{className:pn.a.sidePanelButton,onClick:function(){t(Yt(!e))},children:Object(_e.jsx)(De.a,{icon:Ue.c,style:{filter:"drop-shadow(0.45px 0.45px 0px rgba(0, 0, 0, 0.2))"}})})})},fn=n(28),mn=n.n(fn),bn=function(){var e=Object(we.c)(),t=Object(a.useRef)(null),n=Object(a.useState)(""),r=Object(d.a)(n,2),i=r[0],c=r[1],o=Object(a.useState)("none"),s=Object(d.a)(o,2),l=s[0],u=s[1],p=Object(a.useState)([]),h=Object(d.a)(p,2),f=h[0],m=h[1],b=Object(a.useState)(-1),x=Object(d.a)(b,2),v=x[0],j=x[1];function g(e){if(!e)return e;var t=e.split(" ").filter((function(e){return e.length>0}));return t[t.length-1]}function O(e){u(e?"block":"none")}function k(){return(k=Object(w.a)(y.a.mark((function e(t){var n,a,r,i;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.target.value||"",a=g(n),e.prev=2,e.next=5,G(a);case 5:r=e.sent,m(r.map((function(e){return{complete:a+e,suffix:e}}))),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(2),i="ERROR: ".concat(e.t0.message),m([{complete:i,suffix:i}]);case 13:O(!0),c(n);case 15:case"end":return e.stop()}}),e,null,[[2,9]])})))).apply(this,arguments)}function _(e){return P.apply(this,arguments)}function P(){return P=Object(w.a)(y.a.mark((function t(n){return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e($t(n)),O(!1),e(et(n)),e(Yt(!0));case 4:case"end":return t.stop()}}),t)}))),P.apply(this,arguments)}function I(e){var t=i.toLowerCase()+e.toLowerCase();return c(t),O(!1),t}function T(){return(T=Object(w.a)(y.a.mark((function e(t){var n,a;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("Escape"!==t.key){e.next=5;break}return O(!1),e.abrupt("return");case 5:if("Enter"!==t.key){e.next=19;break}if(t.preventDefault(),"none"===l){e.next=15;break}return n=f[v],a=i,n&&(a=I(n.suffix)),e.next=13,_(a);case 13:e.next=17;break;case 15:return e.next=17,_(i);case 17:e.next=31;break;case 19:if("ArrowDown"!==t.key){e.next=26;break}return t.preventDefault(),O(!0),j(Math.min(v+1,f.length-1)),e.abrupt("return");case 26:if("ArrowUp"!==t.key){e.next=31;break}return t.preventDefault(),O(!0),j(Math.max(v-1,0)),e.abrupt("return");case 31:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(a.useEffect)((function(){document.addEventListener("click",(function(e){t.current&&!t.current.contains(e.target)&&O(!1)}))}),[]),Object(_e.jsxs)("span",{className:mn.a.searchArea,children:[Object(_e.jsx)("input",{type:"text",id:"search-input",className:mn.a.search,"aria-label":"search",value:i,onChange:function(e){return k.apply(this,arguments)},onKeyUp:function(e){return T.apply(this,arguments)}}),Object(_e.jsx)("button",{type:"button",className:mn.a.searchButton,onClick:function(){return _(i)},children:Object(_e.jsx)(De.a,{icon:Ue.n,style:{filter:"drop-shadow(0.45px 0.45px 0px rgba(0, 0, 0, 0.2))"}})}),Object(_e.jsx)("button",{type:"button",className:mn.a.clearButton,onClick:function(){c(""),O(!1),e(Wt(void 0)),e(et("")),e(Yt(!0))},children:Object(_e.jsx)(De.a,{icon:Ue.p,style:{filter:"drop-shadow(0.45px 0.45px 0px rgba(0, 0, 0, 0.2))"}})}),Object(_e.jsx)("div",{ref:t,className:mn.a.searchDropdown,style:{display:l},children:f.map((function(e,t){return Object(_e.jsx)("div",{onClick:function(){return _(I(e.suffix))},className:t===v?mn.a.searchDropdownItemSelected:mn.a.searchDropdownItem,children:Object(_e.jsx)("div",{children:e.complete.toLowerCase()})},e.complete.toLowerCase())}))})]})},xn=n(59),vn=n.n(xn),jn=n(60),gn=function(){var e=Object(a.useState)(""),t=Object(d.a)(e,2),n=t[0],r=t[1];return Object(a.useEffect)((function(){(function(){return Q.apply(this,arguments)})().then((function(e){return r(e)}))}),[]),Object(_e.jsx)("div",{style:{display:"flex",alignItems:"center",padding:0,marginLeft:0,marginRight:0,marginTop:0,marginBottom:"auto"},children:n?Object(_e.jsx)("a",{href:n,target:"_blank",children:Object(_e.jsx)(De.a,{className:vn.a.githubIcon,icon:jn.a,style:{filter:"drop-shadow(0.45px 0.45px 0px rgba(0, 0, 0, 0.2))"}})}):Object(_e.jsx)(De.a,{className:vn.a.githubIcon,icon:jn.a,style:{filter:"drop-shadow(0.45px 0.45px 0px rgba(0, 0, 0, 0.2))"}})})},On=n(98),yn=n.n(On),wn=function(){var e=Je(),t=Ze(lt);return Object(_e.jsx)("div",{style:{display:"flex",alignItems:"center",padding:0,marginLeft:0,marginRight:0,marginTop:0,marginBottom:"auto"},children:Object(_e.jsx)("button",{className:yn.a.editModeButton,"data-test-id":"edit-mode-button",onClick:Object(w.a)(y.a.mark((function n(){var a;return y.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e(ut(!t)),n.next=3,Y();case 3:a=n.sent,e(xt(a.errors.map((function(e){return{row:e.row,column:e.column,message:e.message,relativePath:e.path}}))));case 5:case"end":return n.stop()}}),n)}))),children:t?Object(_e.jsx)(De.a,{icon:Ue.i,style:{filter:"drop-shadow(0.45px 0.45px 0px rgba(0, 0, 0, 0.2))"}}):Object(_e.jsx)(De.a,{icon:Ue.h,style:{filter:"drop-shadow(0.45px 0.45px 0px rgba(0, 0, 0, 0.2))"}})})})},kn=n(99),_n=n.n(kn),Pn=function(){return Object(_e.jsx)("div",{style:{display:"flex",alignItems:"center",padding:0,marginLeft:0,marginRight:0,marginTop:0,marginBottom:"auto"},children:Object(_e.jsx)("a",{href:"#/help",target:"_blank",children:Object(_e.jsx)(De.a,{className:_n.a.helpIcon,icon:Ue.m,style:{filter:"drop-shadow(0.45px 0.45px 0px rgba(0, 0, 0, 0.2))"}})})})},In=function(){var e=Je(),t=Ze(wt),n=Ze(Tt),a=Ze(lt),r=Object(_e.jsxs)(_e.Fragment,{children:[Object(_e.jsxs)("select",{style:{border:"solid",borderWidth:"1px",borderRadius:"1px",borderColor:"#cccccc",background:"white",marginRight:"1em",paddingLeft:"1ex"},defaultValue:t,onClick:function(t){var n,a=null===(n=t.target)||void 0===n?void 0:n.value;a&&(window.localStorage.setItem("mlg.editorFont",a),e(kt(a)))},children:[Object(_e.jsx)("option",{value:"Anonymous Pro",children:"Anonymous Pro"}),Object(_e.jsx)("option",{value:"CMU Typewriter Text",children:"CMU Typewriter Text"}),Object(_e.jsx)("option",{value:"Courier Prime",children:"Courier Prime"}),Object(_e.jsx)("option",{value:"Cousine",children:"Cousine"}),Object(_e.jsx)("option",{value:"Cutive Mono",children:"Cutive Mono"}),Object(_e.jsx)("option",{value:"Fira Code",children:"Fira Code"}),Object(_e.jsx)("option",{value:"Fira Mono",children:"Fira Mono"}),Object(_e.jsx)("option",{value:"Inconsolata",children:"Inconsolata"}),Object(_e.jsx)("option",{value:"Libertinus Mono",children:"Libertinus Mono"}),Object(_e.jsx)("option",{value:"Nova Mono",children:"Nova Mono"}),Object(_e.jsx)("option",{value:"Noto Sans Mono",children:"Noto Sans Mono"}),Object(_e.jsx)("option",{value:"PT Mono",children:"PT Mono"}),Object(_e.jsx)("option",{value:"Red Hat Mono",children:"Red Hat Mono"}),Object(_e.jsx)("option",{value:"Roboto Mono",children:"Roboto Mono"}),Object(_e.jsx)("option",{value:"Share Tech Mono",children:"Share Tech Mono"}),Object(_e.jsx)("option",{value:"Source Code Pro",children:"Source Code Pro"}),Object(_e.jsx)("option",{value:"Space Mono",children:"Space Mono"}),Object(_e.jsx)("option",{value:"Syne Mono",children:"Syne Mono"}),Object(_e.jsx)("option",{value:"The Good Monolith",children:"The Good Monolith"}),Object(_e.jsx)("option",{value:"Ubuntu Mono",children:"Ubuntu Mono"})]}),Object(_e.jsxs)("select",{style:{border:"solid",borderWidth:"1px",borderRadius:"1px",borderColor:"#cccccc",background:"white",marginRight:"1em",paddingLeft:"1ex"},defaultValue:n,onClick:function(t){var n,a=null===(n=t.target)||void 0===n?void 0:n.value;a&&(window.localStorage.setItem("mlg.editorFontSize",a),e(Ct(a)))},children:[Object(_e.jsx)("option",{value:"8",children:"8"}),Object(_e.jsx)("option",{value:"9",children:"9"}),Object(_e.jsx)("option",{value:"10",children:"10"}),Object(_e.jsx)("option",{value:"11",children:"11"}),Object(_e.jsx)("option",{value:"12",children:"12"}),Object(_e.jsx)("option",{value:"13",children:"13"}),Object(_e.jsx)("option",{value:"14",children:"14"}),Object(_e.jsx)("option",{value:"15",children:"15"}),Object(_e.jsx)("option",{value:"16",children:"16"}),Object(_e.jsx)("option",{value:"17",children:"17"}),Object(_e.jsx)("option",{value:"18",children:"18"}),Object(_e.jsx)("option",{value:"19",children:"19"}),Object(_e.jsx)("option",{value:"20",children:"20"}),Object(_e.jsx)("option",{value:"21",children:"21"}),Object(_e.jsx)("option",{value:"22",children:"22"}),Object(_e.jsx)("option",{value:"23",children:"23"}),Object(_e.jsx)("option",{value:"24",children:"24"}),Object(_e.jsx)("option",{value:"25",children:"25"}),Object(_e.jsx)("option",{value:"26",children:"26"}),Object(_e.jsx)("option",{value:"27",children:"27"}),Object(_e.jsx)("option",{value:"28",children:"28"}),Object(_e.jsx)("option",{value:"29",children:"29"}),Object(_e.jsx)("option",{value:"30",children:"30"})]})]});return Object(_e.jsxs)("div",{className:un.a.topbar,children:[Object(_e.jsx)(hn,{}),Object(_e.jsx)(bn,{}),a?r:null,H()?null:Object(_e.jsx)(wn,{}),Object(_e.jsx)(gn,{}),Object(_e.jsx)(Pn,{})]})},Tn=n(23),Cn=n.n(Tn),Ln=function(){var e=Object(a.useState)({entries:[]}),t=Object(d.a)(e,2),n=t[0],r=t[1];Object(a.useEffect)((function(){(function(){return ee.apply(this,arguments)})().then(r)}),[]);var i,c=[],o=Object(j.a)(n.entries);try{for(o.s();!(i=o.n()).done;){var s,l=i.value,u=Object(j.a)(l.called);try{for(u.s();!(s=u.n()).done;){var p=s.value;c.push({name:p,entry:l})}}catch(m){u.e(m)}finally{u.f()}}}catch(m){o.e(m)}finally{o.f()}function h(e){var t=e.trim();return t.startsWith("$")&&t.endsWith("$")?t.substring(1,t.length-1).replace(/\\[a-zA-Z]+/g,"").replace(/\{/g,"").replace(/\}/g,"").replace(/[a-zA-Z]+\?/g,"").toUpperCase().trim():e.replace(/\$\$.*?\$\$/g,"").replace(/\$.*?\$/g,"").replace(/\(.*?\)/g,"").replace(/\[.*?\]/g,"").replace(/"/g,"").toUpperCase().trim()}return Object(_e.jsxs)("div",{className:Cn.a.indexPage,children:[Object(_e.jsx)("h1",{children:"Index by Name"}),Object(_e.jsx)("ul",{className:Cn.a.indexList,children:c.sort((function(e,t){var n=h(e.name),a=h(t.name);return n.localeCompare(a)})).map((function(e,t){return Object(_e.jsxs)("li",{className:Cn.a.indexListItem,children:[Object(_e.jsx)(f.b,{className:Cn.a.indexListCalledLink,to:"".concat(e.entry.relativePath,"#").concat(e.entry.id),children:Object(_e.jsx)(Ie,{html:e.name})}),Object(_e.jsx)("span",{className:Cn.a.indexItemCalledLocation,children:e.entry.relativePath.replace(/\d+((\\.)?\d+)?_/g,"").replace(/_/g," ").replace(/\.math/g,"").replace(/content\//,"").replace(/\//g," \u25b8 ")})]},t)}))}),Object(_e.jsx)("h1",{children:"Index by Signature"}),Object(_e.jsx)("ul",{className:Cn.a.indexList,children:n.entries.filter((function(e){return!!e.signature})).sort((function(e,t){var n=e.signature||"",a=t.signature||"";return n.localeCompare(a)})).map((function(e,t){return Object(_e.jsxs)("li",{className:Cn.a.indexListItem,children:[Object(_e.jsx)(f.b,{className:Cn.a.indexItemLink,to:"".concat(e.relativePath,"#").concat(e.id),children:e.signature}),Object(_e.jsx)("div",{className:Cn.a.indexItemLocation,children:e.relativePath.replace(/\d+((\\.)?\d+)?_/g,"").replace(/_/g," ").replace(/\.math/g,"").replace(/content\//,"").replace(/\//g," \u25b8 ")})]},t)}))})]})},Sn=Object(Ye.b)({name:"isFullscreen",initialState:{isFullscreen:!1},reducers:{isFullscreenUpdated:function(e,t){e.isFullscreen=t.payload}}}),Nn=function(e){return e.isFullscreen.isFullscreen},Fn=Sn.actions.isFullscreenUpdated,En=Sn.reducer,Rn=n(51);var Mn=function(e){var t,n={viewedPath:(t=Object(m.f)()).pathname.replace(/^\//,""),targetId:t.hash.replace(/^#/,""),line:Number(t.search.replace(/^\?line=/,"")||0)},r=Ze(lt),i=Ze(Zt),c=Ze(Nn),o=Je();if(Object(a.useEffect)((function(){e.onLocationChanged(n.viewedPath)}),[n]),Object(a.useEffect)((function(){""===n.viewedPath&&function(){return z.apply(this,arguments)}().then((function(t){return e.redirect(t)}))}),[]),""===n.viewedPath)return null;var s=r?Object(_e.jsx)(Bn,{hashLocation:n,isSidePanelVisible:i}):Object(_e.jsx)(An,{hashLocation:n,startedWithSidePanelVisible:i});return Object(_e.jsxs)("div",{children:[c?null:Object(_e.jsx)(In,{}),r?Object(_e.jsx)("span",{style:{position:"absolute",right:"0",paddingTop:"2ex",paddingRight:"1.5ex"},children:Object(_e.jsx)("button",{style:{border:"none",background:"transparent"},onClick:function(){o(Fn(!c))},children:Object(_e.jsx)(De.a,{icon:c?Ue.d:Ue.f,style:{filter:"drop-shadow(0.45px 0.45px 0px rgba(0, 0, 0, 0.2))",fontSize:"110%"}})})}):null,s]})},An=function(e){var t=Ze(Zt),n=Object(a.useState)(pt()),r=Object(d.a)(n,2),i=r[0],c=r[1];return Object(a.useEffect)((function(){var e=function(){c(pt())};return window.addEventListener("resize",e),function(){window.removeEventListener("resize",e)}}),[]),i&&window.innerWidth<1024?Object(_e.jsxs)("div",{style:{marginTop:"0.75em",display:"grid",gridTemplateColumns:"2.5% 95% 2.5%"},children:[Object(_e.jsx)("div",{children:t?Object(_e.jsx)("div",{style:{position:"relative",zIndex:"10",background:"#ffffff",borderColor:"#dddddd",boxShadow:"0px 1px 5px rgba(0, 0, 0, .2)",height:"100%",width:"max-content",minWidth:"fit-content",paddingTop:"0.3em"},children:Object(_e.jsx)(on,{viewedPath:e.hashLocation.viewedPath,onOpenFileInTab:function(){}})}):null}),Object(_e.jsx)("div",{children:"index"===e.hashLocation.viewedPath?Object(_e.jsx)(Ln,{}):Object(_e.jsx)(Ft,{viewedPath:e.hashLocation.viewedPath,viewedLine:e.hashLocation.line,targetId:e.hashLocation.targetId,onOpenFileInTab:function(){}})}),Object(_e.jsx)("div",{})]}):Object(_e.jsxs)("div",{style:{marginTop:"0.75em",display:"grid",gridTemplateColumns:"22.5% 55% 22.5%"},children:[Object(_e.jsx)("div",{style:{marginTop:"-0.3em"},children:t?Object(_e.jsx)(on,{viewedPath:e.hashLocation.viewedPath,onOpenFileInTab:function(){}}):null}),Object(_e.jsx)("div",{children:"index"===e.hashLocation.viewedPath?Object(_e.jsx)(Ln,{}):Object(_e.jsx)(Ft,{viewedPath:e.hashLocation.viewedPath,viewedLine:e.hashLocation.line,targetId:e.hashLocation.targetId,onOpenFileInTab:function(){}})}),Object(_e.jsx)("div",{})]})},Bn=function(e){var t=Je(),n=Object(a.useState)([]),r=Object(d.a)(n,2),i=r[0],c=r[1],o=Object(a.useState)("20%"),s=Object(d.a)(o,2),l=s[0],u=s[1],p=function(e){return i.findIndex((function(t){return t.viewedPath===e}))},h=Object(a.useState)(Math.max(0,p(e.hashLocation.viewedPath))),f=Object(d.a)(h,2),m=f[0],b=f[1];Object(a.useEffect)((function(){for(var e=document.getElementsByTagName("div"),t=0;t<e.length;t++){var n,a=e[t];"Resizer"===(null===a||void 0===a||null===(n=a.dataset)||void 0===n?void 0:n.type)&&(a.style.marginTop="0.5em")}}),[e.isSidePanelVisible]);var x=function(e){b(e);var n=i[e];n&&t(an(n.viewedPath))};Object(a.useEffect)((function(){var t=e.hashLocation,n=p(t.viewedPath);if(0===i.length)c([t]);else if(n>=0)x(n);else{var a=m>=i.length?0:m,r=i.map((function(e){return{viewedPath:e.viewedPath,targetId:e.targetId,line:e.line}}));r[a]={viewedPath:t.viewedPath,targetId:t.targetId,line:t.line},c(r),b(a)}}),[e.hashLocation]);var v=function(e,t){var n=p(e);if(n>=0)void 0!==t&&c(i.map((function(e,a){return a==n?{viewedPath:e.viewedPath,targetId:e.targetId,line:t}:e}))),x(n);else{var a=i.concat({viewedPath:e,targetId:"",line:null!==t&&void 0!==t?t:0});c(a),void 0!==t&&b(a.length-1)}};return Object(_e.jsxs)(gt.a,{onChange:function(e){return u("".concat(e,"px"))},children:[e.isSidePanelVisible?Object(_e.jsx)(Rn,{initialSize:l,children:Object(_e.jsx)(on,{viewedPath:e.hashLocation.viewedPath,onOpenFileInTab:v})}):null,Object(_e.jsx)(Rn,{children:Object(_e.jsx)("div",{style:{marginTop:"0.5em",borderTop:"solid",borderTopWidth:"1px",borderTopColor:"#aaaaaa"},children:Object(_e.jsx)(Dn,{locations:i,selectedIndex:m,setSelectedIndex:x,onClose:function(e){c(i.filter((function(t){return t.viewedPath!==e})))},onOpenFileInTab:v})})})]})},Hn=function(e){var t=e.split("/");return 0===t.length?e:t[t.length-1]},Dn=function(e){if(1===e.locations.length){var t=e.locations[0];return Object(_e.jsx)(Ft,{viewedPath:t.viewedPath,viewedLine:t.line,targetId:t.targetId,onOpenFileInTab:e.onOpenFileInTab})}return Object(_e.jsxs)(b.d,{selectedIndex:e.selectedIndex,onSelect:function(t){return e.setSelectedIndex(t)},children:[Object(_e.jsx)(b.b,{style:{margin:"0"},children:e.locations.map((function(t,n){return Object(_e.jsxs)(b.a,{selectedClassName:v.a.selectedTab,children:[Hn(t.viewedPath),Object(_e.jsx)("button",{className:v.a.button,children:Object(_e.jsx)(De.a,{icon:Ue.p,style:{filter:"drop-shadow(0.45px 0.45px 0px rgba(0, 0, 0, 0.2))"},onClick:function(){return e.onClose(t.viewedPath)}})})]},n)}))}),e.locations.map((function(t,n){return Object(_e.jsx)(b.c,{children:Object(_e.jsx)(Ft,{viewedPath:t.viewedPath,viewedLine:t.line,targetId:t.targetId,onOpenFileInTab:e.onOpenFileInTab})},n)}))]})},Un=n(36),zn=n.n(Un),Wn=function(e){return e.onLoad(),Object(_e.jsx)("div",{className:zn.a.referenceBody,children:Object(_e.jsxs)("div",{className:zn.a.referenceContent,children:[Object(_e.jsx)("div",{className:zn.a.referenceHeader1,children:"The MathLingua Reference"}),Object(_e.jsxs)("p",{children:["The MathLingua language consists of two parts, a structural language and an expression language as shown in the example below. For more information, see the language references below or visit\xa0",Object(_e.jsx)("a",{href:"https://www.mathlingua.org",children:"mathlingua.org"}),"."]}),Object(_e.jsx)("pre",{children:"Theorem: \"Fundamental Theorem of Calculus\"\ngiven: f(x), F(x), I, a, b\nwhen:\n. 'a, b is \\real'\n. 'a < b'\n. 'I := \\open.interval{a, b}'\n. 'f(x) is \\continuous.function:on{I}'\n. 'F(x) is \\indefinite.integral:of{f(x)}:on{I}'\nthen:\n. '\\definite.integral[x]_{a}^{b}:of{f(x)} = F(b) - F(a)'\nusing:\n. 'x - y := x \\real.-/ y'\n. 'x < y := x \\real.lt/ y'"}),Object(_e.jsx)("div",{className:zn.a.referenceHeader1,children:"Expression Language"}),Object(_e.jsx)("p",{children:"The expression language is written within single quotes and is used to express mathematical statements."}),Object(_e.jsx)("a",{href:"#/help/expressionLanguage",children:"Expression Language Reference"}),Object(_e.jsx)("div",{className:zn.a.referenceHeader1,children:"Structural Language"}),Object(_e.jsx)("p",{children:"The structural language, outside single quote statements, describes the overall structure of a mathematical construct."}),Object(_e.jsx)("a",{href:"#/help/structuralLanguage",children:"Structural Language Reference"})]})})};n(206);function $n(e){return"<".concat(e,">")}function qn(e){return" `".concat(e,"` ")}function Vn(e){return" (".concat(e," )")}var Gn="expression",Xn="commandLhs",Jn="operatorCommandLhs",Zn={name:"number",form:Vn("-|+")+"? [0-9]+"+Vn(qn(".")+"[0-9]+")+"* ",example:"\n10\n-10\n0.123\n-0.12\n+0.12\n+12\n0\n"},Yn={name:"identifier",form:"[a-zA-Z0-9]+",example:"\nx\nepsilon\nf\nsomeVar\n"},Kn={name:"identifierArgs",form:Yn.name+Vn(qn(",")+$n(Yn.name))+"* ",example:"\nx, y\na, b, c\nsomeVar\n"},Qn={name:"expressionArgs",form:Gn+Vn(qn(",")+$n(Gn))+"* ",example:"\n\\continuous.function:on{A \\set.times/ B}:to{\\reals}\nx + y\nf(x) + g(x)\n\\frac{pi}{2}\n"},ea={name:"functionMappingLhs",form:$n(Yn.name)+qn("(")+$n(Kn.name)+qn(")"),example:"\nf(x, y)\nf(x)\nGamma(a, b, c)\nSomeName(x, y)\n"},ta={name:"functionMapping",form:$n(Yn.name)+qn("(")+$n(Qn.name)+qn(")"),example:"\nf(x, y)\nf(x + y, 10)\nf(\\derivative[x]{x^2 + 1}, y)\n"},na={name:"sequenceMappingLhs",form:$n(Yn.name)+qn("_")+qn("{")+$n(Kn.name)+qn("}"),example:"\nx_{a, b, c},\nf_{i}\n"},aa={name:"sequenceMapping",form:$n(Yn.name)+qn("_")+qn("{")+$n(Qn.name)+qn("}"),example:"\nx_{10, i + j}\nx_{i}\nx_{0}\n"},ra={name:"functionLikeSequenceLhs",form:qn("{")+$n(Yn.name)+qn("_")+qn("{")+$n(Kn.name)+qn("}")+qn("(")+$n(Kn.name)+qn(")")+qn("}")+qn("_")+qn("{")+$n(Kn.name)+qn("}"),example:"\n{someName_{var1, var2}(arg1, arg2)}_{var1, var2}\n{f_{i}(x)}_{i}\n{f_{i,j}(x, y)}_{i,j}\n"},ia={name:"nonFunctionLikeSequenceLhs",form:qn("{")+$n(Yn.name)+qn("_")+qn("{")+$n(Kn.name)+qn("}")+qn("}")+qn("_")+qn("{")+$n(Kn.name)+qn("}"),example:"\n{x_{i}}_{i}\n{x_{i, j}}_{i, j}\n"},ca={name:"sequenceLhs",allowed:[$n(ra.name),$n(ia.name)]},oa={name:"curlyGroup",form:qn("{")+$n(Gn)+qn("}"),example:"\n{x + y + \\frac{a}{b}}\n{10}\n"},sa={name:"parenGroup",form:qn("(")+$n(Gn)+qn(")"),example:"\n(x + y + \\frac{a}{b})\n(10)\n"},la={name:"operator",form:"[~!@#$%^&*-+=|<>?/]+",example:"\n+\n++\n+*\n/\n<=\n"},ua={name:"tupleLhs",form:qn("(")+$n(Kn.name)+qn(")"),example:"\n(X, Y, Z)\n(x)\n(a, b)\n(name1, name2, name3)\n"},da={name:"tuple",form:qn("(")+$n(Qn.name)+qn(")"),example:"\n(10, x + y)\n(\\f{a}, x + y)\n"},pa={name:"leftHandSide",allowed:[$n(Yn.name),$n(ua.name),$n(ea.name),$n(na.name),$n(Xn),$n(Jn),$n(ca.name)]},ha={name:"commandArgLhs",allowed:[$n(Yn.name),$n(ea.name),$n(na.name)]},fa={name:"commandArgs",form:$n(ha.name)+Vn(qn(",")+$n(ha.name))+"* "},ma={name:"commandPartParenGroupLhs",form:qn("(")+$n(fa.name)+qn(")")},ba={name:"commandPartParenGroup",form:qn("(")+$n(Qn.name)+qn(")")},xa={name:"commandPartCurlyGroupLhs",form:qn("{")+$n(fa.name)+qn("}")},va={name:"commandPartCurlyGroup",form:qn("{")+$n(Qn.name)+qn("}")},ja={name:"commandPartName",form:"[a-zA-Z0-9~!@#$%^&*-+=|<>?/]+ "},ga={name:"commandPartNamedGroupLhs",form:qn(":")+$n(ja.name)+qn("{")+$n(fa.name)+qn("}")},Oa={name:"commandPartNamedGroup",form:qn(":")+$n(ja.name)+qn("{")+$n(Qn.name)+qn("}")},ya={name:"commandPartSquareGroup",form:qn("[")+$n(fa.name)+qn("]")+Vn(qn("_")+qn("{")+$n(fa.name)+qn("}"))+"? "+Vn(qn("^")+qn("{")+$n(fa.name)+qn("}"))+"? "},wa={name:"commandPartLhs",form:$n(ja.name)+$n(ya.name)+"? "+$n(xa.name)+"* "+$n(ga.name)+"* "},ka={name:"commandPart",form:$n(ja.name)+$n(ya.name)+"? "+$n(va.name)+"* "+$n(Oa.name)+"* "},_a={name:Xn,form:qn("\\")+$n(wa.name)+"+ "+$n(ma.name)+"? ",example:"\n\\real.continuous.function:on{A}:to{B}\n\\topological{G}.continuous.function:on{A}:to{B}\n\\derivative[x]{f(x)}\n\\limit[y]_{a}{f(y)}\n\\finite.sum[k]_{a}^{b}{term(k)}\n\\pi\n\\someName\n\\finite.group\n"},Pa={name:"command",form:qn("\\")+$n(ka.name)+"+ "+$n(ba.name)+"? ",example:"\n\\real.continuous.function:on{A \\set.times/ B}:to{\\reals}\n\\topological{G := (X, O)}.continuous.function:on{A}:to{B}\n\\derivative[x]{f(x) + g(x)}\n\\limit[y]_{0}{y^2 + 2*y + 1}\n\\finite.sum[k]_{0}^{10}{k^2 + 2}\n\\pi\n\\someName\n"},Ia={name:Jn,form:$n(Yn.name)+qn("\\")+$n(wa.name)+"+ "+qn("/")+$n(Yn.name),example:"\nA \\set.times/ B\nx \\leq{X}/ y\na \\otimes/ b\n"},Ta={name:"operatorCommand",form:$n(Gn)+qn("\\")+$n(ka.name)+"+ "+qn("/")+$n(Gn),example:"\nA \\set.times/ B\nx \\leq{X}/ 10\n(A + B) \\otimes/ C\n"},Ca={name:"colonEqualsRhs",allowed:[$n(ca.name),$n(Gn)]},La={name:"colonEquals",form:$n(pa.name)+qn(":=")+$n(Ca.name),example:"\nf(x) := x^2 + 1\nX := (A \\otimes/ B, C, 0)\nP := {p_{i}}_{i}"},Sa={name:"isOrInLhs",allowed:[$n(pa.name),$n(La.name)]},Na={name:"is",form:$n(Sa.name)+qn("is")+$n(Pa.name),example:"\nx is \\real\nf(x) is \\continuous.function\nX := (a, b, c) is \\some.tuple\n"},Fa={name:"in",form:$n(Sa.name)+qn("in")+$n(Gn),example:"\nx in X\nx in A \\set.times/ B\n"},Ea={name:"text",form:qn('"')+'[^"]*'+qn('"'),example:'\n"some text"\n"let $x \\in X$.  Then there exists..."\n'},Ra=[Yn,Kn,Qn,ea,ta,na,aa,ra,ia,ca,oa,sa,la,ua,da,pa,ha,fa,ma,ba,xa,va,ja,ga,Oa,ya,wa,ka,_a,Pa,Ia,Ta,Ca,La,Sa,Na,Fa,Ea,{name:Gn,allowed:[$n(ta.name),$n(aa.name),$n(Yn.name),$n(oa.name),$n(da.name),$n(sa.name),$n(Na.name),$n(Fa.name),$n(la.name),$n(La.name),$n(Pa.name),$n(Ta.name),$n(Ea.name),$n(Zn.name)],example:"\nf(x) + g(x)\n\\limit[i]_{\\infinity}{{a_{i}}_{i}}\n2*x^2 + x + 1\nx \\real.+/ y\n{x + y} \\set.times// (A + B)\nX := (a, b, c)\nf(x) := \\sin(x)/x\n"},Zn];function Ma(){var e=function(){var e,t=new Map,n=Object(j.a)(Ra);try{for(n.s();!(e=n.n()).done;){var a=e.value,r=$n(a.name);if(t.has(r))throw new Error("Duplicate doc item found with name ".concat(r));t.set(r,a)}}catch(i){n.e(i)}finally{n.f()}return t}(),t=[];return Aa($n(Gn),t,e,new Set),t}function Aa(e,t,n,a){if(!a.has(e)){a.add(e);var r=n.get(e);t.push(r);var i,c=Object(j.a)(function(e){if(e.form){var t,n=[],a=Object(j.a)(Ra);try{for(a.s();!(t=a.n()).done;){var r=$n(t.value.name);e.form.indexOf(r)>=0&&n.push(r)}}catch(i){a.e(i)}finally{a.f()}return n}return e.allowed?e.allowed:[]}(r));try{for(c.s();!(i=c.n()).done;){Aa(i.value,t,n,a)}}catch(o){c.e(o)}finally{c.f()}}}var Ba=function(e){e.onLoad();var t="<div class='texTalkReferenceTitle'>Expression Language Reference</div>";t+="<p><b>Note:</b> This document is still a work in progress and is not complete.</p>";var n,a=Object(j.a)(Ma());try{for(a.s();!(n=a.n()).done;){var r=n.value;t+="<div class='texTalkReferenceName'>&lt;".concat(r.name,"&gt;</div>\n"),t+="<div class='texTalkReferenceHeader'>Specification</div>\n",t+="<pre class='texTalkReferenceMono'>\n";var i="",c=r;if(c.form)i+="".concat($n(r.name)," ::= ").concat(c.form,"\n");else if(c.allowed){for(var o="".concat($n(r.name)," :"),s="",l=0;l<o.length-1;l++)s+=" ";if(c.allowed.length>0){i+=o+":= "+c.allowed[0]+"\n";for(var u=1;u<c.allowed.length;u++)i+=s+"|   "+c.allowed[u]+"\n"}}t+=i.replace(/</g,"&lt;").replace(/>/g,"&gt;")+"</pre>\n",r.example&&(t+="<div class='texTalkReferenceHeader'>Examples</div>\n",t+="<pre class='texTalkReferenceMono'>".concat(r.example.replace(/</g,"&lt;").replace(/>/g,"&gt;"),"</pre>"))}}catch(d){a.e(d)}finally{a.f()}return Object(_e.jsx)("div",{dangerouslySetInnerHTML:{__html:"<div class='texTalkReferenceBody'><div class='texTalkReferenceContent'>".concat(t,"</div></div>")}})},Ha=(n(207),{name:"identifier",form:"[a-zA-Z0-9~!@#$%^&*-+=|<>?/]+",example:"\nX\n+\n0\n++\n10\n"}),Da={name:"identifierArgs",form:$n(Ha.name)+Vn(qn(",")+$n(Ha.name))+"* ",example:"\na, b\nX, +, 0\n"},Ua={name:"tuple",form:qn("(")+$n(Da.name)+qn(")"),example:"\n(a, b)\n(X, +, 0)\n"},za={name:"functionMapping",form:$n(Ha.name)+qn("(")+$n(Da.name)+qn(")"),example:"\nf(x)\ng(x, y, z)\n"},Wa={name:"functionLikeSequenceMapping",form:qn("{")+$n(Ha.name)+qn("_")+qn("{")+$n(Da.name)+qn("}")+qn("(")+$n(Da.name)+qn(")")+qn("}")+qn("_")+qn("{")+$n(Da.name)+qn("}"),example:"\n{f_{i}(x)}_{i}\n{f_{i,j}(x, y)}_{i, j}\n"},$a={name:"nonFunctionLikeSequenceMapping",form:qn("{")+$n(Ha.name)+qn("_")+qn("{")+$n(Da.name)+qn("}")+qn("}")+qn("_")+qn("{")+$n(Da.name)+qn("}"),example:"\n{a_{i}}_{i}\n{x_{i, j}}_{i, j}\n"},qa={name:"sequenceMapping",allowed:[$n(Wa.name),$n($a.name)]},Va={name:"collection",form:qn("{")+$n(Da.name)+qn("}"),example:"\n{a}\n{x, y}\n"},Ga={name:"colonEqualsLhs",allowed:[$n(Ha.name),$n(Wa.name)+$n(Ua.name)+$n(Va.name)]},Xa={name:"colonEqualsRhs",allowed:[$n(Ha.name),$n(qa.name)]},Ja={name:"colonEquals",form:$n(Ga.name)+qn(":=")+$n(Xa.name),example:"\nG := (X, +, 0)\nX := {x}\nX := {x_i}_i\n"},Za={name:"target",allowed:[$n(Ha.name),$n(Va.name),$n(qa.name),$n(Ua.name),$n(Ja.name)]},Ya=[Ha,Da,Ua,za,Wa,$a,qa,Va,Ga,Xa,Ja,Za];function Ka(){var e=function(){var e,t=new Map,n=Object(j.a)(Ya);try{for(n.s();!(e=n.n()).done;){var a=e.value,r=$n(a.name);if(t.has(r))throw new Error("Duplicate doc item found with name ".concat(r));t.set(r,a)}}catch(i){n.e(i)}finally{n.f()}return t}(),t=[];return Qa($n(Za.name),t,e,new Set),t}function Qa(e,t,n,a){if(!a.has(e)){a.add(e);var r=n.get(e);r&&t.push(r);var i,c=Object(j.a)(function(e){if(!e)return[];if(e.form){var t,n=[],a=Object(j.a)(Ya);try{for(a.s();!(t=a.n()).done;){var r=$n(t.value.name);e.form.indexOf(r)>=0&&n.push(r)}}catch(i){a.e(i)}finally{a.f()}return n}return e.allowed?e.allowed:[]}(r));try{for(c.s();!(i=c.n()).done;){Qa(i.value,t,n,a)}}catch(o){c.e(o)}finally{c.f()}}}var er=function(e){e.onLoad();var t="<div class='chalkTalkReferenceTitle'>Structural Language Reference</div>";t+="<p><b>Note:</b> This document is still a work in progress and is not complete.</p>";var n,a=Object(j.a)(Ka());try{for(a.s();!(n=a.n()).done;){var r=n.value;t+="<div class='chalkTalkReferenceName'>&lt;".concat(r.name,"&gt;</div>\n"),t+="<div class='chalkTalkReferenceHeader'>Specification</div>\n",t+="<pre class='chalkTalkReferenceMono'>\n";var i="",c=r;if(c.form)i+="".concat($n(r.name)," ::= ").concat(c.form,"\n");else if(c.allowed){for(var o="".concat($n(r.name)," :"),s="",l=0;l<o.length-1;l++)s+=" ";if(c.allowed.length>0){i+=o+":= "+c.allowed[0]+"\n";for(var u=1;u<c.allowed.length;u++)i+=s+"|   "+c.allowed[u]+"\n"}}t+=i.replace(/</g,"&lt;").replace(/>/g,"&gt;")+"</pre>\n",r.example&&(t+="<div class='chalkTalkReferenceHeader'>Examples</div>\n",t+="<pre class='chalkTalkReferenceMono'>".concat(r.example.replace(/</g,"&lt;").replace(/>/g,"&gt;"),"</pre>"))}}catch(d){a.e(d)}finally{a.f()}return Object(_e.jsx)("div",{dangerouslySetInnerHTML:{__html:"<div class='chalkTalkReferenceBody'><div class='chalkTalkReferenceContent'>".concat(t,"</div></div>")}})},tr=n(100),nr=n.n(tr),ar=n(61),rr=n.n(ar),ir=!1,cr=function(){var e=Object(a.useState)(!1),t=Object(d.a)(e,2),n=t[0],r=t[1],i=Object(a.useState)(null),c=Object(d.a)(i,2),o=c[0],s=c[1];Object(a.useEffect)((function(){(function(){return te.apply(this,arguments)})().then((function(e){var t=e.googleAnalyticsId;t&&s(t)}))}),[]);var l=function(e){n&&o&&(ir||(rr.a.initialize(o),ir=!0),rr.a.event("page_view",{page_title:e}))};return Object(_e.jsx)(f.a,{hashType:"slash",children:Object(_e.jsxs)(or,{children:[Object(_e.jsx)("div",{className:h.a.contentPanel,children:Object(_e.jsxs)(m.c,{children:[Object(_e.jsx)(m.a,{exact:!0,path:"/help",children:Object(_e.jsx)(Wn,{onLoad:function(){return l("/help")}})}),Object(_e.jsx)(m.a,{exact:!0,path:"/help/expressionLanguage",children:Object(_e.jsx)(Ba,{onLoad:function(){return l("/help/expressionLanguage")}})}),Object(_e.jsx)(m.a,{exact:!0,path:"/help/structuralLanguage",children:Object(_e.jsx)(er,{onLoad:function(){return l("/help/structuralLanguage")}})}),Object(_e.jsx)(m.a,{path:"/:relativePath(.*)",render:function(e){return Object(_e.jsx)(Mn,{redirect:function(t){return e.history.push({pathname:t})},onLocationChanged:function(e){return l(e)}})}})]})}),o?Object(_e.jsx)(nr.a,{buttonText:"I agree",buttonStyle:{backgroundColor:"#70c273",color:"#ffffff",borderRadius:"3px"},declineButtonText:"I disagree",declineButtonStyle:{backgroundColor:"#d15858",color:"#ffffff",borderRadius:"3px"},enableDeclineButton:!0,acceptOnScroll:!1,style:{fontFamily:'Georgia, "Times New Roman", Times, serif',color:"#000000",borderTop:"solid",borderTopColor:"#cccccc",borderTopWidth:"1px",background:"#f5f5f8"},onAccept:function(){return r(!0)},onDecline:function(){return r(!1)},debug:!1,children:"If you agree, this site will use cookies to analyze its traffic."}):null]})})},or=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(o.a)(this,n),(a=t.call(this,e)).state={hasError:!1},a}return Object(s.a)(n,[{key:"componentDidCatch",value:function(e,t){this.setState({hasError:!0})}},{key:"render",value:function(){return this.state.hasError?Object(_e.jsxs)("p",{children:["An error occurred connecting to the MathLingua server. Are you running"," ",Object(_e.jsx)("code",{children:"mlg serve"}),"?"]}):this.props.children}}]),n}(r.a.Component),sr=n(39),lr=Object(Ye.a)({reducer:{sidePanelVisible:Kt,paths:qt,query:tt,isEditMode:dt,isFullscreen:En,errorResults:vt,selectedTabPath:rn,editorFont:_t,editorFontSize:Lt},middleware:[sr.a]});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(Object(_e.jsx)(r.a.StrictMode,{children:Object(_e.jsx)(we.a,{store:lr,children:Object(_e.jsx)(cr,{})})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},23:function(e,t,n){e.exports={indexPage:"SignatureIndex_indexPage__1Mg5P",indexList:"SignatureIndex_indexList__27b3A",indexListItem:"SignatureIndex_indexListItem__1JcHj",indexItemLink:"SignatureIndex_indexItemLink__1bjtz",indexItemLocation:"SignatureIndex_indexItemLocation__3bzXq",indexItemCalledList:"SignatureIndex_indexItemCalledList__DF8mb",indexListCalledLink:"SignatureIndex_indexListCalledLink__1SXD5",indexItemCalledLocation:"SignatureIndex_indexItemCalledLocation__YqiSo"}},26:function(e,t,n){e.exports={mathlinguaPage:"Page_mathlinguaPage__316SN",errorView:"Page_errorView__1w9pu",errorItem:"Page_errorItem__2mYLP",linkPanel:"Page_linkPanel__1lmJv",previousLink:"Page_previousLink__pU3BI",nextLink:"Page_nextLink__3hVie",editorMenuItem:"Page_editorMenuItem__2fHkR"}},28:function(e,t,n){e.exports={searchArea:"SearchPanel_searchArea__3eH01",search:"SearchPanel_search__2HQuA",searchDropdown:"SearchPanel_searchDropdown__24NWE",searchDropdownItem:"SearchPanel_searchDropdownItem__3wg4x",searchDropdownItemSelected:"SearchPanel_searchDropdownItemSelected__20Nxq",searchButton:"SearchPanel_searchButton__2WliP",clearButton:"SearchPanel_clearButton___bhw7"}},35:function(e,t,n){e.exports={mathlinguaTopLevel:"TopLevelEntry_mathlinguaTopLevel__tOe0D",mathlinguaIconPane:"TopLevelEntry_mathlinguaIconPane__2KBDK",mathlinguaFlipIcon:"TopLevelEntry_mathlinguaFlipIcon__-3nJ2",mathlinguaOpenIcon:"TopLevelEntry_mathlinguaOpenIcon__8Id1v",mathlinguaCloseButton:"TopLevelEntry_mathlinguaCloseButton__o8PUx"}},36:function(e,t,n){e.exports={referenceBody:"ReferencePanel_referenceBody__JkIk1",referenceContent:"ReferencePanel_referenceContent__3j9Qf",referenceTitle:"ReferencePanel_referenceTitle__2AIh_",referenceHeader1:"ReferencePanel_referenceHeader1__GkHD1",referenceHeader2:"ReferencePanel_referenceHeader2__LPX8y"}},46:function(e,t,n){e.exports={entitiesPanel:"EntitiesPanel_entitiesPanel__1Sx74",entitiesPanelItem:"EntitiesPanel_entitiesPanelItem__1Xi0s",closeAllButton:"EntitiesPanel_closeAllButton__1uj94"}},47:function(e,t,n){e.exports={topLevelEntityGroup:"TopLevelEntityGroup_topLevelEntityGroup__MMFuW",triangle:"TopLevelEntityGroup_triangle__7AIJb",triangleBorder:"TopLevelEntityGroup_triangleBorder__2sXGm"}},52:function(e,t,n){e.exports={contentPanel:"ContentPanel_contentPanel__1GlTz",button:"ContentPanel_button__1ScBJ",selectedTab:"ContentPanel_selectedTab__shyiU"}},54:function(e,t,n){e.exports={errorLabel:"ErrorView_errorLabel__2AXEh",errorMessage:"ErrorView_errorMessage__2gtow"}},58:function(e,t,n){e.exports={sidePanel:"SidePanel_sidePanel__2wshc"}},59:function(e,t,n){e.exports={githubIcon:"GitHubIcon_githubIcon__20bvO"}},86:function(e,t,n){e.exports={contentPanel:"App_contentPanel__1ZGS7"}},89:function(e,t,n){e.exports={mathlinguaBlockCommentTopLevel:"BlockComment_mathlinguaBlockCommentTopLevel__dhGBJ"}},96:function(e,t,n){e.exports={topbar:"TopBar_topbar__2sxmu"}},97:function(e,t,n){e.exports={sidePanelButton:"SidePanelButton_sidePanelButton__u4HAg"}},98:function(e,t,n){e.exports={editModeButton:"EditModeButton_editModeButton__1Orbv"}},99:function(e,t,n){e.exports={helpIcon:"HelpButton_helpIcon__227gR"}}},[[211,1,2]]]);
//# sourceMappingURL=main.2fe05734.chunk.js.map